$execute at @s anchored eyes positioned ^ ^ ^.2 if entity @e[tag=effect_comparer, nbt={data:{effects: [{effect: "minecraft:fireball"}], caster_id: $(caster_id)}}] run return run summon fireball ~ ~ ~ {Tags: ["magick_projectile", "fireball"], data: {caster_id: $(caster_id)}}
$execute at @s anchored eyes positioned ^ ^ ^.2 if entity @e[tag=effect_comparer, nbt={data:{effects: [{effect: "minecraft:ice_wall"}], caster_id: $(caster_id)}}] run return run summon item ~ ~ ~ {Tags: ["magick_projectile", "freeze", "ice_wall"], data: {caster_id: $(caster_id)}, NoGravity:true, HasVisualFire:false, Invulnerable:true, PickupDelay:100000, Item:{id:"stone_button",components:{"minecraft:item_model":air}}}
$execute at @s anchored eyes positioned ^ ^ ^.2 run return run summon item ~ ~ ~ {Tags: ["magick_projectile"], data: {caster_id: $(caster_id)}, NoGravity:true, HasVisualFire:false, Invulnerable:true, PickupDelay:100000, Item:{id:"stone_button",components:{"minecraft:item_model":air}}}